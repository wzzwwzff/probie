<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>安置及房源使用情况</title>
    <meta http-equiv="refresh" content="5">
    <LINK href="styles/styles.css" type="text/css" rel="stylesheet"/>
    <script src="../static/jquery/1.11.3/jquery.min.js"></script>
    <script src="../static/plugin/highcharts/highcharts.js"></script>
    <style>
        html, body {
            font-family: '微软雅黑';
        }

        .chart_content div {
            float: left;
            width: 48%;
            height: 620px;
            margin-top: 15px;
        }
    </style>
</head>
<body>
<div style="text-align: center;font-size: 45px;font-weight: bold;">望坛棚户区改造拆迁项目整体签约情况</div>
<div style="position: absolute;top: 10px;left: 20px;font-size: 25px;font-weight: bold;text-align: center;">2016年07月23日<br/><span id="time1"></span></div>
<script>
    var now = new Date();
    function createtime()
    {

        var grt= new Date("7/31/2016 20:00:00");

        now.setTime(now.getTime()+250);
        days = (grt - now) / 1000 / 60 / 60 / 24;
        dnum = Math.floor(days);
        hours = (grt - now) / 1000 / 60 / 60 - (24 * dnum);
        hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;}
        minutes = (grt - now) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes);
        if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (grt - now) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds);
        if(String(snum).length ==1 ){snum = "0" + snum;}

//        document.getElementById(timeDate).innerHTML = dnum;
        document.getElementById("time1").innerHTML = hnum + "时" + mnum + "分" + snum + "秒";
    }
    setInterval("createtime()",250);
</script>
<div class="chart_content">
    <div id="chart"></div>
    <div id="chart1"></div>
</div>

<script>
    $(function () {
        $("#chart").highcharts({
            chart: {
                renderTo: 'pie_chart',
                plotBackgroundColor: 'white',//背景颜色
                plotBorderWidth: 0,
                plotShadow: false
            },
            title: {
                text: '整体签约情况',
                x: 0,
                y: 20,
                style: {
                    color: "#000",
                    fontSize: 30,
                    fontWeight: "bold",
                }
            },
            colors: ['#84C1FF', '#ff4330'],
            credits: {//去掉右下角标识
                text: ''
            },
            tooltip: {//鼠标移动到每个饼图显示的内容
                pointFormat: '{series.name}:{point.percentage:.1f}%',
                percentageDecimals: 1,
//                    formatter: function() {
//                        return pointFormat+ this.point.name+this.point.percentage/100;
//                    }
            },
            plotOptions: {
                pie: {
                    borderWidth: 0,
                    allowPointSelect: true,
                    cursor: 'pointer',
                    dataLabels: {
                        enabled: true,
                        color: '#000',
                        distance: -50,//通过设置这个属性，将每个小饼图的显示名称和每个饼图重叠
                        style: {
                            fontSize: '18px',
                            lineHeight: '10px'
                        },
                        formatter: function () {
                            //'{point.name}: {point.percentage:.1f} %'

                            return this.point.name + this.point.percentage.toFixed(2) + "%";
                        }
                    },
                    padding: 20
                }
            },
            series: [{//设置每小个饼图的颜色、名称、百分比
                type: 'pie',
                name: '占比',
                data: [
                    {name: '已签约', y: 4200},
                    {name: '未签约', y: 2360}

                ]
            }]
        });
        $("#chart1").highcharts({
            chart: {
                renderTo: 'pie_chart',
                plotBackgroundColor: 'white',//背景颜色
                plotBorderWidth: 0,
                plotShadow: false
            },
            title: {
                text: '安置方式签约情况',
                x: 0,
                y: 20,
                style: {
                    color: "#000",
                    fontSize: 30,
                    fontWeight: "bold",
                }
            },
            colors: ['#84C1FF','#00E3E3', '#ff4330','#00DB00'
        ],
        credits: {//去掉右下角标识
            text: ''
        }
        ,
        tooltip: {//鼠标移动到每个饼图显示的内容
            pointFormat: '{series.name}:{point.percentage:.1f}%',
                    percentageDecimals
        :
            1,
//                    formatter: function() {
//                        return pointFormat+ this.point.name+this.point.percentage/100;
//                    }
        }
        ,
        plotOptions: {
            pie: {
                borderWidth: 0,
                        allowPointSelect
            :
                true,
                        cursor
            :
                'pointer',
                        dataLabels
            :
                {
                    enabled: true,
                            color
                :
                    '#000',
                            distance
                :
                    -50,//通过设置这个属性，将每个小饼图的显示名称和每个饼图重叠
                            style
                :
                    {
                        fontSize: '18px',
                                lineHeight
                    :
                        '10px'
                    }
                ,
                    formatter: function () {
                        //'{point.name}: {point.percentage:.1f} %'

                        return this.point.name + this.point.percentage.toFixed(2) + "%";
                    }
                }
            ,
                padding:20
            }
        }
        ,
        series: [{//设置每小个饼图的颜色、名称、百分比
            type: 'pie',
            name: '占比',
            data: [
                {name: '外迁协议', y: 2200},
                {name: '回签协议', y: 1600},
                {name: '货币协议', y: 400},
                {name: '产权调换', y: 300}

            ]
        }]
    })
        ;
    });

</script>
</body>
</html>